# ë¦¬ë•ìŠ¤

<br/>

### ë¦¬ë•ìŠ¤ì— ëŒ€í•´ì„œ ì•„ë‚˜ìš”?âš¡ï¸âš¡ï¸

> ë¦¬ë•ìŠ¤(Redux)

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì•±ì„ ìœ„í•œ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬

> ë¦¬ë•ìŠ¤ì˜ êµ¬ì¡°

Action -> Dispatch -> Reducer -> Store ìˆœì„œë¡œ ë°ì´í„°ê°€ ë‹¨ë°©í–¥ìœ¼ë¡œ íë¦„

1. ìƒíƒœê°€ ë³€ê²½ë˜ì–´ì•¼ í•˜ëŠ” ì´ë²¤íŠ¸ ë°œìƒ ì‹œ, ë³€ê²½ë  ìƒíƒœì— ëŒ€í•œ ì •ë³´ê°€ ë‹´ê¸´ Action ê°ì²´ ìƒì„±
2. Action ê°ì²´ëŠ” Dispatch í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬
3. Dispatch í•¨ìˆ˜ëŠ” Action ê°ì²´ë¥¼ Reducer í•¨ìˆ˜ë¡œ ì „ë‹¬
4. Reducer í•¨ìˆ˜ëŠ” Action ê°ì²´ì˜ ê°’ì„ í™•ì¸í•˜ê³ , ê·¸ ê°’ì— ë”°ë¼ ì „ì—­ ìƒíƒœ ì €ì¥ì†Œ Storeì˜ ìƒíƒœë¥¼ ë³€ê²½

> Store

- ìƒíƒœê°€ ê´€ë¦¬ë˜ëŠ” ì˜¤ì§ í•˜ë‚˜ë¿ì¸ ì €ì¥ì†Œ
- stateê°€ ì €ì¥ëœ ê³µê°„

```js
import{ createStore } from 'redux';

(...)

// íŒŒë¼ë¯¸í„°ì— ë¦¬ë“€ì„œ í•¨ìˆ˜ ë„£ì–´ì£¼ê¸°
const store = createStore(reducer);

```

> Action

- ì–´ë–¤ ì•¡ì…˜ì„ ì·¨í•  ê²ƒì¸ì§€ ì •ì˜í•´ ë†“ì€ ê°ì²´
- typeì€ í•„ìˆ˜ì ìœ¼ë¡œ ì§€ì •
- ëŒ€ë¬¸ìì™€ Snake Caseë¡œ ì‘ì„±
- í•„ìš”ì— ë”°ë¼ payload ì‘ì„±í•´ êµ¬ì²´ì ì¸ ê°’ ì „ë‹¬
- ë³´í†µ Action ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜(Action Creator)ë¥¼ ë§Œë“¤ì–´ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

```js
{
  type: "ADD_POTATO";
}
// typeì€ í•„ìˆ˜ì  ê·¸ ì™¸ì˜ ê°’ì€ ìƒê´€ ì—†ë‹¤
{
  type: "ADD_POTATO",
  data:{
    id:0,
    color:"red"
  }
}
```

```js
// ì•¡ì…˜ ìƒì„± í•¨ìˆ˜(Action Creator)

export function addPotato(potato) {
  return {
    type: "ADD_POTATO",
    potato,
  };
}

export const addPotato = (potato) => ({
  type: "ADD_POTATO",
  potato,
});
```

> Dispatch

- Reducerë¡œ Actionì„ ì „ë‹¬í•´ì£¼ëŠ” í•¨ìˆ˜
- Dispatch ì „ë‹¬ì¸ìë¡œ Action ê°ì²´ ì „ë‹¬
- Action ê°ì²´ë¥¼ ì „ë‹¬ë°›ì€ Dispatch í•¨ìˆ˜ëŠ” Reducer í˜¸ì¶œ

```js
import{createStore} from 'redux';

(...)

// íŒŒë¼ë¯¸í„°ì— ë¦¬ë“€ì„œ í•¨ìˆ˜ ë„£ì–´ì£¼ê¸°
const store = createStore(reducer);

<button onClick={()=>{store.dispatch(addPotato(potato))}}>

```

> Reducer

- Dispatchì—ê²Œì„œ ì „ë‹¬ë°›ì€ Action ê°ì²´ì˜ type ê°’ì— ë”°ë¼ ìƒíƒœ ë³€ê²½ì‹œí‚¤ëŠ” í•¨ìˆ˜
- ReducerëŠ” ìˆœìˆ˜í•¨ìˆ˜ì—¬ì•¼ë§Œ í•œë‹¤

```js
// ë¦¬ë“€ì„œëŠ” ë‘ê°€ì§€ íŒŒë¼ë¯¸í„°ë¥¼ ë°›ì•„ì˜´

function reducer(state, action){
    // ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§
    // ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë°˜í™˜!!
    return ìƒˆë¡œìš´ ìƒíƒœ
}

// ê°ì ì¶”ê°€ ë¦¬ë“€ì„œ
function potatoReducer(state = [], action){
    switch(action.type){
        case 'INCREASE':
            return [
              ...state,{
                potato: action.potato,
              }
            ];

        default:
            return state;
    }
}
```

ì¶œì²˜ : [ë¦¬ë•ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” í‚¤ì›Œë“œ ìˆ™ì§€í•˜ê¸°](https://react.vlpt.us/redux/01-keywords.html)

---

<br/>

### ë¦¬ë•ìŠ¤ì˜ ê¸°ë³¸ ì›ì¹™ì€?âš¡ï¸âš¡ï¸

3ê°€ì§€ ì›ì¹™

1. Single source of truth
   - ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ëª¨ë“  ìƒíƒœëŠ” í•˜ë‚˜ì˜ ì €ì¥ì†Œ ì•ˆì— í•˜ë‚˜ì˜ ê°ì²´ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì €ì¥
   - í•˜ë‚˜ì˜ ìƒíƒœíŠ¸ë¦¬ë§Œì„ ê°€ì§€ê³  ìˆì–´ì„œ ë””ë²„ê¹…ì—ë„ ìš©ì´
2. State is read-only
   - ìƒíƒœëŠ” ì½ê¸° ì „ìš©
   - ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ì•¡ì…˜ ê°ì²´ë¥¼ ì „ë‹¬í•˜ëŠ” ë°©ë²•ë¿ì´ë‹¤.
3. Changes are made with pure functions
   - ë³€í™”ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ì‘ì„±
   - ë¦¬ë“€ì„œëŠ” ì´ì „ ìƒíƒœì™€ ì•¡ì…˜ì„ ë°›ì•„ ë‹¤ìŒ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” **ìˆœìˆ˜ í•¨ìˆ˜**
   - ì´ì „ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ëŒ€ì‹  ìƒˆë¡œìš´ ìƒíƒœ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ë°˜í™˜

ì¶œì²˜ : [Redux - 3ê°€ì§€ ì›ì¹™](https://ko.redux.js.org/understanding/thinking-in-redux/three-principles/)

---

ì°¸ê³ í•˜ë©´ ì¢‹ì€ ìë£Œ : [ë²¨ë¡œë²„íŠ¸ì™€ í•¨ê»˜í•˜ëŠ” ëª¨ë˜ ë¦¬ì•¡íŠ¸ - ë¦¬ë•ìŠ¤](https://react.vlpt.us/redux/), [velopert.log - redux](https://velopert.com/3528), [Redux-toolkit](https://redux-toolkit.js.org/), ğŸ“Œ[ë¦¬ë•ìŠ¤ ì´ì •ë¦¬ ë° ì˜ˆì œ](https://itprogramming119.tistory.com/entry/React-%EB%A6%AC%EB%8D%95%EC%8A%A4-%EC%B4%9D%EC%A0%95%EB%A6%AC-%EB%B0%8F-%EC%98%88%EC%A0%9C), ğŸ“Œ[ë¦¬ë•ìŠ¤ ì™„ë²½ ì •ë¦¬](https://13akstjq.github.io/redux/2019/12/14/redux-redux%EC%99%84%EB%B2%BD%EC%A0%95%EB%A6%AC.html)
<br/>
