# 브라우저의 렌더링⚡️⚡️⚡️⚡️

<br/>

### 브라우저의 렌더링 과정에 대해 상세히 설명해주세요⚡️

1. 브라우저는 HTML, CSS, JavaScript와 같은 웹사이트에 필요한 리소스를 서버에 요청하고, 응답으로 받아온다.
2. 렌더링 엔진은 전달받은 HTML과 CSS를 파싱(parsing)해 DOM(Document Object Model, 문서 객체 모델) 트리와 CSSOM(CSS Object Model, CSS 객체 모델) 트리를 만든다.
3. 만들어낸 DOM 트리와 CSSOM 트리를 합쳐 **Render 트리**를 구축한다.
4. Render 트리를 기반으로 **레이아웃** 과정을 통해 각 요소를 어디에 배치할 지 결정한다.
5. 레이아웃 과정이 끝나면 **paint**단계를 통해 Render 트리의 각 노드를 화면상의 픽셀로 변환한다.

### 💫 리플로우와 리페인트

다른 사이트로 이동하거나 화면에 요소가 추가, 삭제 또는 변경되는 상황이 생기면 요소의 위치와 크기를 다시 계산하고 그려야 하는데, 이러한 렌더링 과정의 레이아웃을 반복해 수행하는 것을 리플로우, 페인트 과정을 반복해 수행하는 것을 리페인트라고 한다.

### 빈 화면에서 렌더링이 완료되기까지 너무 오래 걸린다는 피드백이 있을 때 어떻게 하면 이 문제를 해결 할 수 있을까요?(단 캐시는 이미 적용됨)

script 태그를 body 태그 최하단에 위치시키거나 async나 defer 속성을 활용하여 자바스크립트 파일의 로드를 비동기적으로 처리해 스크립트 로딩 순서를 제어합니다.
async나 defer 속성은 src 속성을 통해 외부 자바스크립트 파일을 로드하는 경우에만 사용할 수 있다.

### 브라우저의 렌더링 과정에 자바스크립트는 어떻게 동작하나요?⚡️

브라우저의 렌더링 엔진이 DOM을 생성하다가 script태그나 자바스크립트 코드를 만나면 DOM 생성을 일시 중단하고 자바스크립트 엔진이 동작한다. 자바스크립트 엔진은 자바스크립트 파싱을 담당하는데, 자바스크립트 코드를 해석하여 AST(추상적 구문 트리)를 생성한다. 그리고 AST를 기반으로 인터프리터가 실행할 수 있는 중간 코드인 바이트코드를 생성하여 실행한다.

### script 태그를 body 태그 밑에 둬야하는 이유가 있을까요?

HTML을 읽는 과정에서 script 태그를 만나면 파싱을 멈추고 스크립트 파일을 읽어 DOM 생성이 지연된다. 이 때문에 자바스크립트 코드가 무거우면 읽는 시간이 오래 걸려 화면에 표시되는 것이 지연된다.
또한, DOM 트리가 생성되기 이전에 자바스크립트가 아직 생성되지 않은 DOM의 조작을 시도할 수 있어 이러한 상황을 막기 위해 script 태그를 body 태그 밑에 둔다.

<br>

참고 문서 : https://ghost4551.tistory.com/220
