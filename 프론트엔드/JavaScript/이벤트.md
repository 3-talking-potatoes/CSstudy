# 이벤트⚡️

<br/>

### 마우스 이벤트 타입에는 뭐가 있나요? click말고 클릭을 대체할 수 있는 이벤트가 있나요?

| 이벤트 타입 |                   이벤트 발생 시점                   |
| :---------: | :--------------------------------------------------: |
|    click    |              마우스 버튼을 클릭했을 때               |
|   dbclick   |            마우스 버튼을 더블 클릭했을 때            |
|  mousedown  |               마우스 버튼을 눌렀을 때                |
|   mouseup   |         누르고 있던 마우스 버튼을 놓았을 때          |
|  mousemove  |              마우스 커서를 움직였을 때               |
| mouseenter  | 마우스 커서를 HTML 요소 안으로 이동했을 때(버블링 X) |
|  mouseover  | 마우스 커서를 HTML 요소 안으로 이동했을 때(버블링 O) |
| mouseleave  | 마우스 커서를 HTML 요소 밖으로 이동했을 때(버블링 X) |
|  mouseout   | 마우스 커서를 HTML 요소 밖으로 이동했을 때(버블링 O) |

mouseup 이벤트로 click 이벤트를 대체할 수 있다.

<br/>

---

### 그 외에 알고있는 대표적인 이벤트가 있나요?

(p.756 ~ p.757 참고)

**키보드 이벤트**

| 이벤트 타입 | 이벤트 발생 시점 |
| :---------: | :--------------: |
|   keydown   |  키를 눌렀을 때  |
|    keyup    |    키를 뗄 때    |

**폼 이벤트**

| 이벤트 타입 |           이벤트 발생 시점           |
| :---------: | :----------------------------------: |
|   submit    |           form을 제출할 때           |
|    focus    | `<input>`과 같은 요소에 포커스 할 때 |

**값 변경 이벤트**

| 이벤트 타입 |               이벤트 발생 시점                |
| :---------: | :-------------------------------------------: |
|    input    | input 또는 textarea 요소의 값이 변경되었을 때 |
|   change    | input 또는 textarea 요소의 값이 변경되었을 때 |

**DOM 뮤테이션 이벤트(문서 이벤트)**

|   이벤트 타입    |                   이벤트 발생 시점                    |
| :--------------: | :---------------------------------------------------: |
| DOMContentLoaded | HTML이 전부 로드 및 처리되어 DOM 생성이 완료되었을 때 |

**뷰 이벤트**

| 이벤트 타입 |                   이벤트 발생 시점                    |
| :---------: | :---------------------------------------------------: |
|   resize    | 브라우저 윈도우 크기를 리사이즈할 때 연속적으로 발생  |
|   scroll    | 웹페이지 또는 HTML 요소를 스크롤할 때 연속적으로 발생 |

<br/>

---

### 이벤트 핸들러를 등록하는 방식에는 어떤 것들이 있나요?

1. 이벤트 핸들러 어트리뷰트 방식
2. 이벤트 핸들러 프로퍼티 방식
3. addEventListener 메서드 방식

<br/>

---

### 이벤트 전파(propagation)에 대해서 알고 있나요?

DOM 트리 상에 존재하는 DOM 요소 노드에서 발생한 이벤트는 DOM 트리를 통해 전파된다. 이를 이벤트 전파라고 한다.  
이벤트가 전파되는 방향에 따라 버블링과 캡쳐링으로 구분할 수 있다.  
자식 요소에서 발생한 이벤트가 부모 요소로 전파되는 것을 **버블링**이라 하고,  
자식 요소에서 발생한 이벤트가 부모 요소부터 시작하여 이벤트를 발생시킨 자식 요소까지 도달하는 것을 **캡처링**이라 한다.  
**주의할 것은 버블링과 캡처링은 둘 중에 하나만 발생하는 것이 아니라 캡처링부터 시작하여 버블링으로 종료한다**는 것이다.  
즉, 이벤트가 발생했을 때 캡처링과 버블링은 순차적으로 발생한다.

![eventflow](https://user-images.githubusercontent.com/93918946/224922454-b61d8312-7bfa-4c56-a067-c3d421b4748c.png)

1. 캡처링 단계 : 이벤트가 상위 요소에서 하위 요소 방향으로 전파
2. 타깃 단계 : 이벤트가 이벤트 타깃에 도달
3. 버블링 단계 : 이벤트가 하위 요소에서 상위 요소 방향으로 전파

```javascript
<!DOCTYPE html>
<html>
<body>
  <ul id="fruits">
    <li id="apple">Apple</li>
    <li id="Banana">Banana</li>
    <li id="Orange">Orange</li>
  </ul>
  <script>
    const $fruits = document.getElementById('fruits');

    //#fruits 요소의 하위 요소인 li 요소를 클릭한 경우
    $fruits.addEventListener('click', e => {
      console.log(`이벤트 단계: ${e.eventPhase}`); // 3: 버블링 단계
      console.log(`이벤트 단계: ${e.target}`); // [object HTMLLIElement]
      console.log(`커런트 타깃: ${e.currentTarget}`); // [object HTMLUListElement]
    });
  </script>
</body>
</html>
```

예제와 같이 ul 요소에 이벤트 핸들러를 바인딩하고 ul 요소의 하위 요소인 li 요소를 클릭하여 이벤트를 발생시켜 보자.  
이때 이벤트 타깃은 li 요소이고 커런트 타깃은 ul 요소이다.

li 요소를 클릭하면 클릭 이벤트가 발생하여 클릭 이벤트 객체가 생성되고 클릭된 li 요소가 이벤트 타깃이 된다.  
이때 클릭 이벤트 객체는 window에서 시작해서 이벤트 타깃 방향으로 전파된다.  
이것이 **캡처링 단계**다.

이후 이벤트 객체는 이벤트를 발생시킨 이벤트 타깃에 도달한다.  
이것이 **타깃 단계**다.

이후 이벤트 객체는 이벤트 타깃에서 시작해서 window 방향으로 전파된다.  
이것이 **버블링 단계**다.

(P.779 ~ P.783 참고하기)

<br/>

---

### 이벤트 위임(delegation)에 대해서 알고 있나요?⚡️

여러 개의 하위 DOM 요소에 각각 이벤트 핸들러를 등록하는 대신 하나의 상위 DOM 요소에 이벤트 핸들러를 등록하는 방법을 말한다.  
이벤트는 이벤트 타깃은 물론 상위 DOM 요소에서도 캐치할 수 있다. 이벤트 위임을 통해 상위 DOM 요소에 이벤트 핸들러를 등록하면 여러 개의 하위 DOM 요소에 이벤트 핸들러를 등록할 필요가 없다. 또한 동적으로 하위 DOM 요소를 추가하더라도 일일이 추가된 DOM 요소에 이벤트 핸들러를 등록할 필요가 없다.

<br/>

---

### e.preventDefault에 대해 알고 있나요?

폼을 submit하거나 링크를 클릭하면 다른 페이지로 이동하게 된다.  
e.preventDefault 메서드는 이러한 요소의 기본 동작을 중단시킨다.

<br/>

---

### e.stopPropagation에 대해 알고 있나요?

어느 한 요소를 이용하여 이벤트를 처리한 후 이벤트가 부모 요소로 이벤트가 전파되는 것을 중단시키기 위한 메소드이다.  
부모 요소와 자식 요소가 동일한 이벤트에 대한 핸들러가 지정되어 있는 경우, 각각 별도로 처리하기 위해 e.stopPropagation 메소드를 사용해 이벤트 전파를 중단한다.

<br/>

---

참고 문서 :  
https://poiemaweb.com/js-event  
https://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture  
모던 자바스크립트 Deep Dive
