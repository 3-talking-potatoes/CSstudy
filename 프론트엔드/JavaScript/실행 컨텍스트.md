# 실행 컨텍스트⚡️

<br/>

### 실행 컨텍스트에 대해 말해보세요⚡️⚡️

> 실행 컨텍스트는 소스코드를 실행하는데 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역

- 식별자와 스코프
  - 실행 컨텍스트의 렉시컬 환경으로 관리
- 코트 실행 순서
  - 실행 컨텍스트 스택으로 관리

> 실행 컨텍스트 스택

- 스택 자료구조로 관리
  ![실행 컨텍스트 스택](https://user-images.githubusercontent.com/107454269/224940335-5a3bfc4f-832e-4d21-8f8d-f848faa8e39b.jpg)

```js
const x = 1;

function potato() {
  const y = 2;
  console.log(x + y);
}

potato();
```

> 렉시컬 환경

- 식별자와 식별자에 바인딩된 값, 상위 스코프에 대한 참조를 기록하는 자료구조
- 실행 컨텍스트를 구성하는 컴포넌트

(LexicalEnvironment 컴포넌트와 VariableEnvironment 컴포넌트 구분 하지 않고 렉시컬 환경으로 통일 시)

![렉시컬 환경](https://user-images.githubusercontent.com/107454269/224944720-0518cb49-28ce-4952-ae79-68810bbe2240.jpg)

- 환경 레코드(Environment Record)  
  스코프에 포함된 식별자를 등록하고 등록된 식별자에 바인딩된 값을 관리하는 저장소
- 외부 렉시컬 환경에 대한 참조(Outer Lexical Environment Reference)  
  외부 렉시컬 환경에 대한 참조는 상위 스코프를 가리킴  
  해당 실행 컨텍스트를 생성한 소스코드를 포함하는 상위 코드의 렉시컬 환경 의미  
  외부 렉시컬 환경에 대한 참조를 통해 단방향 링크드 리스트인 스코프 체인 구현

> 자바스크립트 엔진은 소스코드를 소스코드의 평가와 실행 2가지 과정으로 나누어 처리한다.

- 소스코드 평가
  - 실행 컨텍스트 생성
  - 선언문 실행
  - 생성된 변수 & 함수 식별자를 실행 컨텍스트가 관리하는 스코프(렉시컬 환경의 환경 레코드)에 등록
- 소스코드 실행
  - 소스코드 평가 후 선언문 제외한 소스코드 실행(런타임)
  - 소스코드 실행에 필요한 정보(변수나 함수 참조등)를 실행 컨텍스트가 관리하는 스코프에서 검색 후 취득
  - 변수 값 변경 등 소스코드 실행 결과는 다 실행 컨텍스트가 관리하는 스코프에 등록

<br/>

### ✨ 참조하면 좋은 자료

[10분 테코톡 - 하루의 실행 컨텍스트](https://www.youtube.com/watch?v=EWfujNzSUmw)  
모던 자바스크립트 Deep Dive - 23장 실행 컨텍스트

---
